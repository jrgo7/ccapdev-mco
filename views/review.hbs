<div class="container pt-5 col-8">
    <div class="mt-2 bg-dark shadow px-4 py-4">
        <p><a id="return-game" href="reviews?game={{review.game}}">View {{review.game}}</a></p>
        <div id="star-rating" class="star-rating pt-2">
            {{{generateStarRating review.rating true}}}
            <div class="votes">
                <span class="fa fa-thumbs-up"></span>
                <span id="upvotes">{{review.upvotes}}</span>
                <span class="fa fa-thumbs-down"></span>
            </div>
        </div>

        <h1 id="title" class="allow-editing fw-bold fs-2 mb-2">{{review.title}}</h1>
        <p id="text" class="allow-editing">
            {{review.text}}
        </p>

        {{#if review.attachment}}
        <button class="btn btn-primary mb-2" data-bs-toggle="collapse" data-bs-target="#attachment-container">
            Toggle attachment
        </button>
        <div id="attachment-container" class="collapse">
            {{!-- ? Multiple attachments via an array? --}}
            {{#if (equals review.attachment.type "image")}}
            <img id="attachment" class="attachment attachment-img my-4"
                src="img/review-attachment/{{review.attachment.filename}}" alt="{{review.attachment}}">
            {{/if}}
            {{#if (equals review.attachment.type "video")}}
            <video id="attachment" class="attachment attachment-video my-4" controls>
                <source src="img/review-attachment/{{review.attachment.filename}}">
            </video>
            {{/if}}
        </div>
        {{else}}
        <p class="mb-2">
            (No attachment.)
        </p>
        {{/if}}

        {{> review-author-data review=review user=user}}

    </div>

    <div class="mt-4 bg-dark shadow px-4 py-4">
        <h2 class="fw-bold fs-2">Developer Response</h2>
        <p id="developer-response" class="allow-editing">
            {{#if review.developer_response}}
            {{review.developer_response}}
            {{else}}
            (No response.)
            {{/if}}
        </p>
    </div>
    <div class="mt-2 py-2">
        <button id="edit-button" class="btn btn-primary" onclick="toggleEdit()">
            Edit
        </button>
        <button id="delete-button" class="btn btn-danger" disabled>
            Delete
        </button>
    </div>
</div>