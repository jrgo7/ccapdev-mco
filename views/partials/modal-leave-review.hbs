<div class="modal modal-lg fade fade-in" id="leave-review">
    <div class="modal-dialog">
        <div class="modal-content bg-dark shadow">
            <div class="modal-header">
                <h5>Leave a Review</h5>
            </div>
            <form id="leave-review-form" action="/submit-review" method="post" enctype="multipart/form-data">
                <div class="modal-body">

                    <div class="form-group mb-3">
                        <label for="leave-review-rating">Rating</label>
                        <div id="leave-review-rating" class="star-rating-allow-editing">
                            {{!-- Initialize star rating to the user's current rating if it exists, else 1 --}}
                            {{#if review}}
                            {{{generateStarRating review.rating}}}
                            {{else}}
                            {{{generateStarRating 1 true}}}
                            {{/if}} </div>
                        <input id="leave-review-star-rating" name="rating" class="form-control" placeholder="1"
                            type="hidden" value="1" autocomplete="off" required>
                    </div>

                    <div class="form-group mb-3">
                        <label for="leave-review-title">Title</label>
                        <input name="title" class="form-control" type="text" id="leave-review-title" placeholder="Title"
                            autocomplete="off" required value="{{review.title}}">
                    </div>

                    <div class="form-group mb-3">
                        <label class="form-label" for="leave-review-description">Description</label>
                        <textarea name="text" class="form-control" id="leave-review-description" rows="8" cols="120"
                            placeholder="Description" autocomplete="off" required>{{review.text}}</textarea>
                    </div>

                    Select Attachment Type:
                    <button type="button" class="btn" onclick="showInput('image')">Image</button>
                    <button type="button" class="btn" onclick="showInput('video')">Video</button>

                    <div id="image-input" class="form-group mb-3 hidden">
                        <label for="leave-review-attachment" name="attachment">Upload Image URL</label>
                        <input type="url" autocomplete="off" class="form-control" name="image" value="{{review.attachment.link}}">
                    </div>

                    <div id="video-input" class="form-group mb-3 hidden">
                        <label for="leave-review-attachment" name="attachment">Upload Video URL</label>
                        <input type="url" autocomplete="off" class="form-control" name="video" value="{{review.attachment.link}}">
                    </div>

                    <input type="hidden" name="type" id="attachment-type" value="" required>

                    <input type="hidden" name="game" id="leave-review-game" value="{{game.title}}" required>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" id="submit-review" class="btn btn-primary">Post</button>
                </div>
            </form>

        </div>
    </div>
</div>