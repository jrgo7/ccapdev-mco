<div class="modal modal-lg fade fade-in" id="leave-review">
    <div class="modal-dialog">
        <div class="modal-content bg-dark shadow">
            <div class="modal-header">
                <h5>Leave a Review</h5>
            </div>
            <form id="leave-review-form" action="/submit-review" method="post" enctype="multipart/form-data">
                <div class="modal-body">

                    <div class="form-group mb-3">
                        <label for="leave-review-rating">Rating</label>
                        <div id="leave-review-rating" class="star-rating-allow-editing">
                            {{!-- Initialize star rating to the user's current rating if it exists, else 1 --}}
                            {{log "does review exists?"}}
                            {{#if review}}
                            {{log "review exists"}}
                            {{{generateStarRating review.rating}}}
                            {{else}}
                            {{log "review does not exist"}}
                            {{{generateStarRating 1 true}}}
                            {{/if}} </div>
                        <input id="leave-review-star-rating" name="rating" class="form-control" placeholder="1"
                            type="hidden" value="1" autocomplete="off" required>
                    </div>

                    <div class="form-group mb-3">
                        <label for="leave-review-title">Title</label>
                        <input name="title" class="form-control" type="text" id="leave-review-title" placeholder="Title"
                            autocomplete="off" required value="{{review.title}}">
                    </div>

                    <div class="form-group mb-3">
                        <label class="form-label" for="leave-review-description">Description</label>
                        <textarea name="text" class="form-control" id="leave-review-description" rows="8" cols="120"
                            placeholder="Description" autocomplete="off" required>{{review.text}}</textarea>
                    </div>

                    <div class="form-group mb-3">
                        <label for="leave-review-attachment" name="attachment">Attachment</label>
                        <input type="file" autocomplete="off" class="form-control" name="media"
                            accept="image/*,video/*">
                    </div>

                    <input type="hidden" name="game" id="leave-review-game" value="{{game.title}}" required>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-secondary" data-bs-dismiss="modal">Cancel</a>
                    <button type="submit" id="submit-review" class="btn btn-primary">Post</button>
                </div>
            </form>

        </div>
    </div>
</div>